<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:t="http://java.sun.com/jsf/composite/components/autentia">
    <h:head>
        <title>Nuevo Ingreso #{nuevoingresoController.añoMatricula}</title>
    </h:head>
    <h:body>
        <h:form id="form0">
            <p:growl id="msgs" showDetail="true"/>
        </h:form>
        <h:form id="form1"> 
            <p:wizard flowListener="#{nuevoingresoController.onFlowProcess}" 
                      nextLabel="Siguiente" backLabel="Atrás">
                <p:tab title="Estudiante">
                    <p:panel header="Datos personales del aspirante a estudiante de nuevo ingreso">
                        <t:persona id="p0" departamento="#{nuevoingresoController.departamentoE}" 
                                   departamentoLista="#{nuevoingresoController.departamentoListaE}" 
                                   dui="#{nuevoingresoController.nie}" municipio="#{nuevoingresoController.municipioE}" 
                                   municipioLista="#{nuevoingresoController.municipioListaE}" 
                                   persona="#{nuevoingresoController.e}"
                                   onItemSelect="#{nuevoingresoController.onItemSelect2}" t="8" 
                                   es="#{nuevoingresoController.e.estudiante}"
                                   onComplete="#{axiliarController.completeTextEst}"/>
                    </p:panel>
                </p:tab>
                <p:tab title="Contacto">
                    <p:panel header="Información de contacto">
                        <t:persona1 persona="#{nuevoingresoController.e}" />
                    </p:panel>
                </p:tab>
                <p:tab title="Socioeconómico">
                    <p:panel header="Información Socio-económica del aspirante">
                        <t:estudiante e="#{nuevoingresoController.e.estudiante}" 
                                      persona="#{nuevoingresoController.e}"/>
                    </p:panel>
                </p:tab>
                <p:tab title="Padres">
                    <p:panel header="Información de los padres del aspirante">
                        <h:panelGrid columns="1">
                            <p:panel header="Datos del padre">
                                <t:padres id="padre" dui="#{nuevoingresoController.duiPadre}" 
                                          pa="#{nuevoingresoController.padre}" t="11"
                                          listenerA="#{nuevoingresoController.onItemSelect2}"
                                          onComplete="#{axiliarController.completeTextPad}"/>
                            </p:panel>
                            <p:panel header="Datos de la madre">
                                <t:padres id="madre" dui="#{nuevoingresoController.duiMadre}" 
                                          pa="#{nuevoingresoController.madre}" t="10"
                                          listenerA="#{nuevoingresoController.onItemSelect2}"
                                          onComplete="#{axiliarController.completeTextMad}"/>
                            </p:panel>
                        </h:panelGrid>
                    </p:panel>
                </p:tab>
                <p:tab id="confirmacion" title="Confirmación">
                    <p:panel header="Última información.">
                        <h:panelGrid columns="2" columnClasses="label">
                            <p>
                                Llegado a este punto, Usted ha terminado de llenar su solicitud para 
                                estudiante de nuevo ingreso. pero si tiene alguna duda o quiere revisar lo que ha ingresado,
                                puede fácilmente presionar el botón <strong>Atrás</strong> que se encuentra en la parte inferior
                                izquierda del formulario y verificar todo lo que ha ingresado.<br/>Una vez esté
                                satisfecho presione el botón <strong>Siguiente</strong> hasta que aparezca de nuevo éste mismo
                                mensaje y presione el botón <strong>Guardar</strong>, en la esquina inferior izquierda, para guardar sus datos.<br/>
                                <br/><strong>No actualice la página o perderá sus datos</strong>.<br/>
                                <br/>
                                Una vez guardados sus datos, podrá ingresar a nuestra plataforma usando su <strong>NIE</strong> 
                                como usuario y como contraseña.<br/>
                                La contraseña puede ser actualizada desde su perfil más adelante.
                                <br/><br/>
                                <strong>Feliz día!</strong>

                            </p> 
                        </h:panelGrid>
                        <p:commandButton value="Guardar" action="#{nuevoingresoController.guardar()}" 
                                         update=":form0:msgs" process="@this"/>
                    </p:panel>
                </p:tab> 
            </p:wizard>
        </h:form>
    </h:body>
</html>

