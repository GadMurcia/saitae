<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="./../WEB-INF/template/plantilla1.xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                xmlns:t="http://xmlns.jcp.org/jsf/composite/components/autentia">

    <ui:define name="content">
        <h:form id="form">
            <h:panelGrid columns="1" style="margin: 0 auto;">
                <h1 align="center">Visualice y/o edite su información personal</h1>                
                <p:fieldset legend="Actualización de la contraseña" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Edite su contraseña de acceso a su cuenta SAITAE">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Usuario (DUI/NIE) :" for="idp" />
                        <h:outputText id="idp" value="#{infoPerfilController.usuario.idpersona.toString().substring(1)}"/>

                        <p:outputLabel for="c0" value="Contraseña Anterior"/>
                        <p:password id="c0" required="true" value="#{infoPerfilController.contra}"
                                    placeholder="Contraseña anterior">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:password>

                        <p:outputLabel for="c1" value="Contraseña Nueva"/>
                        <p:password id="c1" required="true" value="#{infoPerfilController.contra1}"
                                    placeholder="Contraseña nueva">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:password>

                        <p:outputLabel for="c2" value="Repita la Contraseña"/>
                        <p:password id="c2" required="true" value="#{infoPerfilController.contra2}"
                                    placeholder="Repetir la contraseña nueva">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:password>

                        <p:column/>
                        <p:commandButton value="Cambiar Contraseña" process="@this" update="form"
                                         actionListener="#{infoPerfilController.acContra()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información Personal" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Visualice o edite su información personal.">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Usuario (DUI/NIE) :" for="idpersona" />
                        <h:outputText id="idpersona" value="#{infoPerfilController.usuario.idpersona.toString().substring(1)}" 
                                      title="Idpersona"/>

                        <p:outputLabel value="Nit:" for="Nit" />
                        <p:inputMask id="Nit" value="#{infoPerfilController.usuario.personaNit}" 
                                     title="PersonaNit" mask="9999-999999-999-9">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputMask>

                        <p:outputLabel value="Nombres:" for="pm" />
                        <p:inputText id="pm" 
                                     value="#{infoPerfilController.usuario.personaNombre}" 
                                     title="PersonaNombre" required="true" 
                                     requiredMessage="The PersonaNombre field is required.">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Apellidos:" for="pa" />
                        <p:inputText id="pa" 
                                     value="#{infoPerfilController.usuario.personaApellido}" 
                                     title="PersonaApellido" required="true" 
                                     requiredMessage="The PersonaApellido field is required.">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Fecha Nacimiento:" for="pn" />
                        <p:datePicker id="pn" 
                                      value="#{infoPerfilController.usuario.personaNacimiento}" 
                                      title="PersonaNacimiento" pattern="dd/MM/yyyy" locale="es"
                                      showIcon="true">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:datePicker>

                        <p:outputLabel value="Sexo:" for="ps" />
                        <p:selectBooleanButton id="ps" value="#{infoPerfilController.usuario.personaSexo}" 
                                               offLabel="Masculino" onLabel="Femenino" 
                                               title="PersonaSexo">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectBooleanButton>

                        <p:outputLabel value="Estado Familiar:" for="pef" />
                        <p:selectOneMenu id="pef" 
                                         value="#{infoPerfilController.usuario.personaEstadoFamiliar}" 
                                         title="PersonaEstadoFamiliar" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="Solter@" itemValue="0" />
                            <f:selectItem itemLabel="Casad@" itemValue="1" />
                            <f:selectItem itemLabel="Acompañad@" itemValue="2"/>
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Nacionalidad:" for="Nac" />
                        <p:selectOneMenu id="Nac" value="#{infoPerfilController.usuario.personaNacionalidad}" 
                                         title="Nacionalidad" >
                            <f:selectItem itemLabel="Seleccione" itemValue="9" noSelectionOption="true"/>
                            <f:selectItem itemLabel="Salvadoreña" itemValue="Salvadoreña" />
                            <f:selectItem itemLabel="Extrangera" itemValue="Extrangera" />
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}" update="plnd plnm"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Departamento:" for="plnd" />
                        <p:selectOneMenu id="plnd" value="#{infoPerfilController.depto}" 
                                         title="PersonaLugarNac" >
                            <f:selectItems value="#{infoPerfilController.depList}"/>
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}" update="plnm"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Municipio:" for="plnd" />
                        <p:selectOneMenu id="plnm" value="#{infoPerfilController.muni}" 
                                         title="PersonaLugarNac" >
                            <f:selectItems value="#{infoPerfilController.munList}"/>
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Zona de Vivienda:" for="pzv" />
                        <p:selectOneMenu id="pzv" 
                                         value="#{infoPerfilController.usuario.personaZonaVivienda}" 
                                         title="PersonaZonaVivienda" >
                            <f:selectItem itemLabel="Seleccione" itemValue="" noSelectionOption="true"/>
                            <f:selectItem itemLabel="Rural" itemValue="0" />
                            <f:selectItem itemLabel="Urbana" itemValue="1" />
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Profesión u oficio:" for="po" />
                        <p:inputText id="po" value="#{infoPerfilController.usuario.personaOCupacion}" 
                                     title="PersonaOCupacion">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Discapacidades:" for="pds" />
                        <p:inputText id="pds" value="#{infoPerfilController.usuario.personaDiscapacidades}" 
                                     title="PersonaDiscapacidades">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:column/>
                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información de contacto" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Visualice o edite su información de contacto">
                    <h:panelGrid columns="2">
                        <t:persona1 persona="#{infoPerfilController.usuario}"/>
                        <p:column/>
                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información Estudiantil" toggleable="true" collapsed="true" 
                            title="Visualice o edite su información de estudiante"
                            toggleSpeed="500" rendered="#{infoPerfilController.estudiante}">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Nombre del representante: "/>
                        <h:outputText value="#{infoPerfilController.getNombre(infoPerfilController.usuario.estudiante.estudianteRepresentante.persona)}"/>

                        <p:outputLabel value="Nombre de la madre: "/>
                        <h:outputText value="#{infoPerfilController.getNombre(infoPerfilController.usuario.estudiante.estudianteMadre)}"/>

                        <p:outputLabel value="Nombre del padre: "/>
                        <h:outputText value="#{infoPerfilController.getNombre(infoPerfilController.usuario.estudiante.estudiantePadre)}"/>

                        <p:outputLabel value="Tiene partida de nacimiento:" for="estudiantePartidaNac" />
                        <p:selectBooleanButton id="estudiantePartidaNac" 
                                               value="#{infoPerfilController.usuario.estudiante.estudiantePartidaNac}" 
                                               title="EstudiantePartidaNac" required="true" 
                                               requiredMessage="The EstudiantePartidaNac field is required."
                                               offLabel="No" onLabel="Sí">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}" 
                                    update="estudianteNoPartida"/>
                        </p:selectBooleanButton>

                        <h:outputLabel value="Razón para no tener partida de nacimiento:" for="estudianteNoPartida" />
                        <p:inputText id="estudianteNoPartida" 
                                     disabled="#{infoPerfilController.usuario.estudiante.estudiantePartidaNac}"
                                     value="#{infoPerfilController.usuario.estudiante.estudianteNoPartida}" 
                                     title="EstudianteNoPartida">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Parentesco con el representante:" for="estudianteParentescoRepresentante" />
                        <p:inputText id="estudianteParentescoRepresentante" 
                                     value="#{infoPerfilController.usuario.estudiante.estudianteParentescoRepresentante}" 
                                     title="EstudianteParentescoRepresentante">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Su representante es un familiar:" for="estudianteRepresentanteFamiliar" />
                        <p:selectBooleanButton id="estudianteRepresentanteFamiliar" offLabel="No" onLabel="Sí"
                                               value="#{infoPerfilController.usuario.estudiante.estudianteRepresentanteFamiliar}" 
                                               title="EstudianteRepresentanteFamiliar">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectBooleanButton>

                        <h:outputLabel value="Tipo de Calle:" for="estudianteTipoCalle" />
                        <p:selectOneMenu id="estudianteTipoCalle" 
                                         value="#{infoPerfilController.usuario.estudiante.estudianteTipoCalle}" 
                                         title="EstudianteTipoCalle" required="true" 
                                         requiredMessage="The EstudianteTipoCalle field is required.">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="Tierra" itemValue="0" />
                            <f:selectItem itemLabel="Pavimentada" itemValue="1" />
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Medio de Transporte:" for="estudianteMedioTransporte" />
                        <p:selectOneMenu id="estudianteMedioTransporte" 
                                         value="#{infoPerfilController.usuario.estudiante.estudianteMedioTransporte}" 
                                         title="EstudianteMedioTransporte">
                            <f:selectItem itemLabel="Seleccione" itemValue="" />
                            <f:selectItem itemLabel="A pie" itemValue="0" />
                            <f:selectItem itemLabel="Bicicleta" itemValue="1" />
                            <f:selectItem itemLabel="Moto" itemValue="2" />
                            <f:selectItem itemLabel="Carro propio" itemValue="3" />
                            <f:selectItem itemLabel="Bus" itemValue="4" />
                            <f:selectItem itemLabel="Microbús" itemValue="5" />
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectOneMenu>

                        <p:outputLabel value="Cursó Parvularia:" for="estudianteParvularia" />
                        <p:selectBooleanButton id="estudianteParvularia" offLabel="No" onLabel="Sí"
                                               value="#{infoPerfilController.usuario.estudiante.estudianteParvularia}" 
                                               title="EstudianteParvularia">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:selectBooleanButton>

                        <p:outputLabel value="Centro de Procedencia:" for="estudianteCentroProcedencia" />
                        <p:inputText id="estudianteCentroProcedencia" 
                                     value="#{infoPerfilController.usuario.estudiante.estudianteCentroProcedencia}" 
                                     title="EstudianteCentroProcedencia">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Distancia Al Centro:" for="estudianteDistanciaAlCentro" />
                        <p:inputNumber id="estudianteDistanciaAlCentro" 
                                       value="#{infoPerfilController.usuario.estudiante.estudianteDistanciaAlCentro}" 
                                       title="EstudianteDistanciaAlCentro" symbol=" Km" symbolPosition="s" 
                                       decimalSeparator="." thousandSeparator=",">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputNumber>

                        <p:outputLabel value="Riesgo o Vulnerabilidad:" for="estudianteRiesgoVulnerabilidad" />
                        <p:inputText id="estudianteRiesgoVulnerabilidad" 
                                     value="#{infoPerfilController.usuario.estudiante.estudianteRiesgoVulnerabilidad}" 
                                     title="EstudianteRiesgoVulnerabilidad">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Trabaja:" for="estudianteTrabaja" />
                        <p:selectBooleanButton id="estudianteTrabaja" offLabel="No" onLabel="Sí"
                                               value="#{infoPerfilController.usuario.estudiante.estudianteTrabaja}" 
                                               title="EstudianteTrabaja">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}" 
                                    update="estudianteFormaTrabajo"/>
                        </p:selectBooleanButton>

                        <p:outputLabel value="Forma de Trabajo:" for="estudianteFormaTrabajo" />
                        <p:inputText id="estudianteFormaTrabajo" 
                                     disabled="#{!infoPerfilController.usuario.estudiante.estudianteTrabaja}"
                                     value="#{infoPerfilController.usuario.estudiante.estudianteFormaTrabajo}" 
                                     title="EstudianteFormaTrabajo">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Dependencia Economica:" for="estudianteDependenciaEconomica" />
                        <p:selectManyCheckbox id="estudianteDependenciaEconomica" 
                                              value="#{infoPerfilController.dependencia}">
                            <f:selectItem itemLabel="Padre" itemValue="Padre" />
                            <f:selectItem itemLabel="Madre" itemValue="Madre" />
                            <f:selectItem itemLabel="Abuelos" itemValue="Abuelo/a" />
                            <f:selectItem itemLabel="Hermanos" itemValue="Hermano/a" />
                            <f:selectItem itemLabel="Otros" itemValue="Otro"  />
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}" update="ot"/>
                        </p:selectManyCheckbox>

                        <h:outputText value="Especifique: "/>
                        <p:inputText id="ot" value="#{infoPerfilController.otraDependenciaEcon}"  
                                     title="Escriba quién más le ayuda para sus estudios" required="true"
                                     disabled="#{!infoPerfilController.otraDependencia}">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Enfermedades que padece:" for="estudianteEnfermedades" />
                        <p:inputText id="estudianteEnfermedades" 
                                     value="#{infoPerfilController.usuario.estudiante.estudianteEnfermedades}" 
                                     title="EstudianteEnfermedades">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:outputLabel value="Medicamentos permanentes:" for="estudianteMedicamentos" />
                        <p:inputText id="estudianteMedicamentos" 
                                     value="#{infoPerfilController.usuario.estudiante.estudianteMedicamentos}" 
                                     title="EstudianteMedicamentos">
                            <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                        </p:inputText>

                        <p:column/>
                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información de matriculas" toggleable="true" collapsed="true" 
                            title="Información de sus matriculas"
                            toggleSpeed="500" rendered="#{infoPerfilController.estudiante}">
                    <h:panelGrid columns="1">
                        <p:panel rendered="#{!infoPerfilController.matriculado}">
                            <h1><h:outputText value="Matricúlese este año"/></h1>
                            <h:panelGrid columns="2">
                                <p:outputLabel value="Repite año: " for="matriculaRepite" />
                                <p:selectBooleanButton id="matriculaRepite" offLabel="No" onLabel="Sí"
                                                       value="#{infoPerfilController.m.matriculaRepite}" 
                                                       title="Repite grado" disabled="true">
                                    <p:ajax event="change" listener="#{infoPerfilController.onBlour}"/>
                                </p:selectBooleanButton>

                                <p:outputLabel value="Modalidad: " for="modal" />
                                <p:selectOneMenu id="modal" value="#{infoPerfilController.m.grado.gradoPK.gradoModalidad}" 
                                                 title="Modalidad a inscribirse" required="true" 
                                                 requiredMessage="The Grado field is required."
                                                 converter="omnifaces.SelectItemsConverter">
                                    <f:selectItem itemValue="#{null}" itemLabel="Seleccione" noSelectionOption="true"/>
                                    <f:selectItems value="#{infoPerfilController.modalidades}" var="md"
                                                   itemValue="#{md}" 
                                                   itemLabel="#{infoPerfilController.getModalidadNombre(md)}"/>
                                    <p:ajax event="change" listener="#{infoPerfilController.onBlour}" update="niv"/>
                                </p:selectOneMenu>

                                <p:outputLabel value="Año: " for="niv" />
                                <p:selectOneMenu id="niv" value="#{infoPerfilController.m.grado.gradoPK.idgrado}" 
                                                 title="año a inscribirse" required="true" 
                                                 requiredMessage="The Grado field is required."
                                                 converter="omnifaces.SelectItemsConverter">
                                    <f:selectItem itemValue="#{null}" itemLabel="Seleccione" noSelectionOption="true"/>
                                    <f:selectItems value="#{infoPerfilController.niveles}" var="nv"
                                                   itemValue="#{nv}" itemLabel="#{nv}"/>
                                    <p:ajax event="change" listener="#{infoPerfilController.onBlour}" update="matriculaRepite"/>
                                </p:selectOneMenu>

                                <p:column/>
                                <p:commandButton value="Matricularme" process="@this" update="form"
                                                 actionListener="#{infoPerfilController.matricular()}"/>
                            </h:panelGrid>
                        </p:panel>
                        <p:dataTable var="m" value="#{infoPerfilController.usuario.estudiante.matriculaList}">
                            <f:facet name="header">
                                Historial de matriculas
                            </f:facet>
                            <p:column headerText="Año" width="10%">
                                #{m.matriculaPK.matriculaAnyo}
                            </p:column>
                            <p:column headerText="Grado" width="40%">
                                #{infoPerfilController.getNombreGrado(m.grado.gradoPK)}
                            </p:column>
                            <p:column headerText="Maestro guía">
                                #{infoPerfilController.getNombre(m.grado.gradoMaestroGuia.persona)}
                            </p:column>
                        </p:dataTable>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información magisterial" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Edite su información magisterial"
                            rendered="#{infoPerfilController.maestro}">
                    <h:panelGrid columns="1">
                        <t:maestro maestro="#{infoPerfilController.usuario.maestro}" 
                                   disable="true"/>
                        <t:maestro1 maestro="#{infoPerfilController.usuario.maestro}" 
                                    especialidades="#{infoPerfilController.especialidades}"
                                    salarios="#{infoPerfilController.sueldos}"
                                    disable="true"/>
                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Información como representante" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Edite su información de representante"
                            rendered="#{infoPerfilController.representante}">                    
                    <h:panelGrid columns="1">
                        <t:representante representante="#{infoPerfilController.usuario}"/>
                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
                <p:fieldset legend="Cargos" toggleable="true" toggleSpeed="500" 
                            collapsed="true" title="Edite su información de representante"
                            rendered="#{infoPerfilController.cargos.size() > 1}">
                    <p:dataTable value="#{infoPerfilController.cargos}" var="cs">
                        <f:facet name="header">
                            Lista de su asignación de cargos
                        </f:facet>
                        <p:column headerText="Cargo">
                            #{cs.tipoPersonaNombre}
                        </p:column>
                    </p:dataTable>
                </p:fieldset>
                <p:fieldset legend="Documentos personales" toggleable="true" collapsed="true" 
                            title="Información de sus matriculas"
                            toggleSpeed="500" rendered="#{infoPerfilController.estudiante}">
                    <h:panelGrid columns="2">
                        <p:outputLabel value="Partida de Nacimiento: " />
                        <h:panelGrid columns="3">
                            <p:fileUpload id="partida" fileUploadListener="#{infoPerfilController.partida}"
                                          mode="advanced" invalidSizeMessage="El archivo sobrepasa el límited de 1MB."
                                          invalidFileMessage="El archivo seleccionado no es válido"
                                          update="messagesp0 btnV0"  sizeLimit="1000000" label="Elejir"
                                          allowTypes="/(\.|\/)(jpe?g|png)$/" auto="true"/>
                            <p:commandButton id="btnV0" value="Ver" update="h0" 
                                             disabled="#{!infoPerfilController.hayPartida}"
                                             oncomplete="PF('DConstancia0').show();"/>                             
                            <p:growl id="messagesp0" showDetail="true" for="partida"/>
                        </h:panelGrid>

                        <p:outputLabel value="Certificado 9° grado: " />
                        <h:panelGrid columns="3">
                            <p:fileUpload id="nov" fileUploadListener="#{infoPerfilController.certificado}"
                                          mode="advanced" invalidSizeMessage="El archivo sobrepasa el límited de 1MB."
                                          invalidFileMessage="El archivo seleccionado no es válido"
                                          update="messagesp1 btnV1"  sizeLimit="1000000" label="Elejir"
                                          allowTypes="/(\.|\/)(jpe?g|png)$/" auto="true"/>
                            <p:commandButton id="btnV1" value="Ver" update="h1" 
                                             disabled="#{!infoPerfilController.hayCertifcado}"
                                             oncomplete="PF('DConstancia1').show();"/>                             
                            <p:growl id="messagesp1" showDetail="true" for="nov"/>
                        </h:panelGrid>

                        <p:outputLabel value="Constancia de conducta: " />
                        <h:panelGrid columns="3">
                            <p:fileUpload id="con" fileUploadListener="#{infoPerfilController.conducta}"
                                          mode="advanced" invalidSizeMessage="El archivo sobrepasa el límited de 1MB."
                                          invalidFileMessage="El archivo seleccionado no es válido"
                                          update="messagesp2 btnV2"  sizeLimit="1000000" label="Elejir"
                                          allowTypes="/(\.|\/)(jpe?g|png)$/" auto="true"/>
                            <p:commandButton id="btnV2" value="Ver" update="h2" 
                                             disabled="#{!infoPerfilController.hayConducta}"
                                             oncomplete="PF('DConstancia2').show();"/>                             
                            <p:growl id="messagesp2" showDetail="true" for="con"/>
                        </h:panelGrid>

                        <p:outputLabel value="Copia de DUI: " />
                        <h:panelGrid columns="3">
                            <p:fileUpload id="duis" fileUploadListener="#{infoPerfilController.dui}"
                                          mode="advanced" invalidSizeMessage="El archivo sobrepasa el límited de 1MB."
                                          invalidFileMessage="El archivo seleccionado no es válido"
                                          update="messagesp3 btnV3"  sizeLimit="1000000" label="Elejir"
                                          allowTypes="/(\.|\/)(jpe?g|png)$/" auto="true"/>
                            <p:commandButton id="btnV3" value="Ver" update="h3" 
                                             disabled="#{!infoPerfilController.hayDui}"
                                             oncomplete="PF('DConstancia3').show();"/>                             
                            <p:growl id="messagesp3" showDetail="true" for="duis"/>
                        </h:panelGrid>

                        <p:outputLabel value="Constancia de notas bachillerato: " />
                        <h:panelGrid columns="3">
                            <p:fileUpload id="not" fileUploadListener="#{infoPerfilController.notas}"
                                          mode="advanced" invalidSizeMessage="El archivo sobrepasa el límited de 1MB."
                                          invalidFileMessage="El archivo seleccionado no es válido"
                                          update="messagesp4 btnV4"  sizeLimit="1000000" label="Elejir"
                                          allowTypes="/(\.|\/)(jpe?g|png)$/" auto="true"/>
                            <p:commandButton id="btnV4" value="Ver" update="h4" 
                                             disabled="#{!infoPerfilController.hayNotas}"
                                             oncomplete="PF('DConstancia4').show();"/>                             
                            <p:growl id="messagesp4" showDetail="true" for="not"/>
                        </h:panelGrid>

                        <p:commandButton value="Guardar Cambios" process="@this" update="form"
                                         actionListener="#{infoPerfilController.guardarPersona()}"/>
                    </h:panelGrid>
                </p:fieldset>
            </h:panelGrid>
        </h:form>

        <p:dialog id="dialog0" widgetVar="DConstancia0" modal="true" style="width: 60%;"
                  showHeader="true" header="Visualización de partida de nacimiento" 
                  closeOnEscape="true">
            <h:form id="h0">
                <h:panelGrid columns="1">
                    <img src="#{infoPerfilController.docPartida}"
                         width="640" height="480"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>

        <p:dialog id="dialog1" widgetVar="DConstancia1" modal="true" style="width: 60%;"
                  showHeader="true" header="Visualización de certificado de 9° grado" 
                  closeOnEscape="true">
            <h:form id="h1">
                <h:panelGrid columns="1">
                    <img src="#{infoPerfilController.docCertificado}"
                         width="640" height="480"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>

        <p:dialog id="dialog2" widgetVar="DConstancia2" modal="true" style="width: 60%;"
                  showHeader="true" header="Visualización de constancia de conducta" 
                  closeOnEscape="true">
            <h:form id="h2">
                <h:panelGrid columns="1">
                    <img src="#{infoPerfilController.docConducta}"
                         width="640" height="480"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>

        <p:dialog id="dialog3" widgetVar="DConstancia3" modal="true" style="width: 60%;"
                  showHeader="true" header="Visualización de copia de dui" 
                  closeOnEscape="true">
            <h:form id="h3">
                <h:panelGrid columns="1">
                    <img src="#{infoPerfilController.docDui}"
                         width="640" height="480"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>

        <p:dialog id="dialog4" widgetVar="DConstancia4" modal="true" style="width: 60%;"
                  showHeader="true" header="Visualización de constancia de notas de bachillerato" 
                  closeOnEscape="true">
            <h:form id="h4">
                <h:panelGrid columns="1">
                    <img src="#{infoPerfilController.docNotas}"
                         width="640" height="480"/>
                </h:panelGrid>
            </h:form>
        </p:dialog>
    </ui:define>

</ui:composition>
